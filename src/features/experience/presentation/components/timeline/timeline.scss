@use "sass:map";
@use "../../../../../core/sass/color.scss" as *;

$timeline-color: map.get($colors, secondary, main);
$circle-size: 30px;
$small-circle-size: calc($circle-size / 2);
$timeline-stroke: 10px;

@mixin timeline-circle($size, $color, $side) {
  content: "";
  width: $size;
  height: $size;
  background-color: $color;
  position: absolute;
  @if $side == "right" {
    right: #{calc($size / 2 * -1)};
  } @else {
    left: #{calc($size / 2 * -1)};
  }
  top: #{calc(($size / 2 * -1) + ($timeline-stroke / 2))};
  border-radius: 50%;
}

.timeline {
  display: flex;

  &__base {
    background-color: $timeline-color;
    width: $timeline-stroke;
  }

  &__branch {
    position: relative;
    background-color: $timeline-color;
    width: 50px;
    height: $timeline-stroke;
    margin-top: 10px;
    margin-right: calc($circle-size / 3);

    &::before {
      @include timeline-circle($circle-size, $timeline-color, right);
    }

    &::after {
      @include timeline-circle($small-circle-size, white, right);
    }
  }
}

.experience {
  &__item:nth-of-type(3n + 4),
  &__item:first-of-type {
    &.timeline {
      flex-direction: row-reverse;
    }
    & .timeline__branch {
      margin-right: 0;
      margin-left: calc($circle-size / 3);
      &::before {
        @include timeline-circle($circle-size, $timeline-color, left);
      }
      &::after {
        @include timeline-circle($small-circle-size, white, left);
      }
    }
  }
}
